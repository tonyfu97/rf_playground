<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice RF Mapping</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Load ONNX.js -->
    <script src="https://cdn.jsdelivr.net/npm/onnxjs/dist/onnx.min.js"></script>

    <header>
        <h1>Practice Receptive Field Mapping</h1>
        <button><a href="../../index.html">RF Playground</a></button>
    </header>

    <!-- RF Size -->
    <div id="rf_size_div">
        <label for="rf_size" id="rf_size_label">RF Size = 100</label>
        <br>
        <input type="range" id="bar_rf_size" name="rf_size" min="10" max="300" value="100" step="5">
    </div>
    <br>

    <!-- Bar color -->
    <div id="bar_color">
        <label for="bar_color" id="bar_color_label">Bar color = rgb(1, 1, 1) </label>
        <br>
        <input type="range" id="bar_red" name="bar_red" min="-1" max="1" value="1" step="0.1">
        <input type="range" id="bar_green" name="bar_green" min="-1" max="1" value="1" step="0.1">
        <input type="range" id="bar_blue" name="bar_blue" min="-1" max="1" value="1" step="0.1">
    </div>
    <br>

    <!-- Background color -->
    <div id="bg_color">
        <label for="bg_color" id="bg_color_label">Backgroun color = rgb(0, 0, 0) </label>
        <br>
        <input type="range" id="bg_red" name="bg_red" min="-1" max="1" value="0" step="0.1">
        <input type="range" id="bg_green" name="bg_green" min="-1" max="1" value="0" step="0.1">
        <input type="range" id="bg_blue" name="bg_blue" min="-1" max="1" value="0" step="0.1">
    </div>
    <br>

    <!-- Response numerical indicator -->
    <h3 id="output">Please hover the cursor above the canvas â†’</h3>

    <!-- Audio controls -->
    <button id="mute"></button>
    <br>
    <label for="volume" id="volume_label">Max-Volume Response: 5</label>
    <br>
    <input type="range" id="volume" name="volume" min="0" max="20" value="5" step="1">

    <!-- Instructions -->
    <div class="instructions">
        <h4>Instructions:</h4>
        <ul>
            <li>Press "r" to rotate counter-clockwise</li>
            <li>Press "t" to rotate clockwise</li>
            <li>Press "w" to increase bar height</li>
            <li>Press "s" to decrease bar height</li>
            <li>Press "d" to increase bar width</li>
            <li>Press "a" to decrease bar width</li>
            <li>Press spacebar to freeze bar</li>
            <li>Use number keys as shortcuts for bar color</li>
        </ul>
    </div>

    <!-- Draw canvas -->
    <canvas id="rfCanvas" width="15px", height="15px"></canvas>
    <canvas id="actualInputCanvas" width="15px", height="15px"></canvas>
    <canvas id="rfPolygonCanvas" width="15px", height="15px"></canvas>
    <script type="module" src="script.js"></script>
    <audio id="audio" src="../../spike.m4a" muted></audio>

    <!-- Undo/reset/submit RF polygon -->
    <div id="polygon_control">
        <button id="undo">Undo</button>
        <button id="reset">Reset</button>
        <button id="submit">Submit</button>
        <button id="gt_undo">Undo</button>
        <button id="gt_reset">Reset</button>
    </div>

    <!-- Submission results -->
    <div id="submission_results">
        <h3>Submission results:</h3>
        <ul>
            <li id="direct_corr">Direct correlation:</li>
            <li id="iou">Intersection over union:</li>
        </ul>
    </div>

    <canvas id="groundTruthCanvasForDisplay" width="15px", height="15px"></canvas>
    <canvas id="groundTruthCanvasForMetricCalculation" width="15px", height="15px"></canvas>
    <script type="module" src="submit.js"></script>
</body>
</html>